title: "OCI Starter: From Resource Manager {{ prefix }} "
stackDescription: "Resource Manager stack created by OCI Starter " 
description: "Stack will deploy the component used in the OCI Starter project" 
schemaVersion: 1.1.0
version: "20221004"
locale: "en"

#################
# Variable Groups
#################
variableGroups:

- title: Starter Project
  visible: true  
  variables:
  - prefix
{%- for param in env_params %}
{%- if param in ["license_model","db_password","compartment_ocid"] %}  
  - {{ param }}
{%- endif %}  
{%- endfor %}

- title: Static
  visible: false  
  variables:
{%- for param in env_params %}
{%- if param not in ["prefix","license_model","db_password","compartment_ocid"] %}  
  - {{ param }}
{%- endif %} 
{%- endfor %}

- title: Optional
  visible: false  
  variables:
{%- for param in terraform_variables %}
{%- if param not in env_params %}
  - {{ param }}
{%- endif %}
{%- endfor %}

#################
# Output Groups
#################

######################
# Variable Definitions
######################

variables:
# Env Params
{%- for param in env_params %}
  {{ param }}:
    {%- if param in ["compartment_ocid"] %}
    type: oci:identity:compartment:id
    {%- elif param in ["db_password"] %}
    type: password
    confirmation: true
    {%- elif param=="license_model" %}
    type: enum
    enum:
      - BRING_YOUR_OWN_LICENSE
      - LICENSE_INCLUDED
    {%- elif param=="ssh_public_key" %}
    type: oci:core:ssh:publickey
    {%- else %}
    type: string
    {%- endif %}
    title: {{ title[param] }}
    {%- if param in [ "prefix", "license_model", "db_password", "auth_token", "certificate_ocid" ] %}
    description: "{{ comments[param][0] }}"
    {%- else %}
    description: ( {{ title[param] }} )
    {%- endif %}
    required: true
{%- endfor %}
# Terraform Variables
{%- for param in terraform_variables %}
{%- if param not in env_params %}
  {{ param }}:
    {%- if param=="ssh_public_key" %}
    type: oci:core:ssh:publickey
    {%- else %}
    type: string
    {%- endif %}
    title: {{ param }}
    description: ( {{ param }} )
    required: false  
{%- endif %}
{%- endfor %}


